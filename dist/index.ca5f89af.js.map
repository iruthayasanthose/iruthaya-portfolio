{"mappings":"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","sources":["src/js/main.js"],"sourcesContent":["jQuery(document).ready(function($){\n\tvar isPreserve3DSupported = ( $('.preserve3d').length > 0 ),\n\t\tisTransitionSupported = ( $('.csstransitions').length > 0 ),\n\t\tbackToTopBtn = $('.cd-top');\n\t\n\tfunction Portfolio3D( element ) {\n\t\t//define a Portfolio3D object\n\t\tthis.element = element;\n\t\tthis.navigation = this.element.children('.cd-3d-portfolio-navigation');\n\t\tthis.rowsWrapper = this.element.children('.projects');\n\t\tthis.rows = this.rowsWrapper.children('.row');\n\t\tthis.visibleFace = 'front';\n\t\tthis.visibleRowIndex = 0;\n\t\tthis.rotationValue = 0;\n\t\t//animating variables\n\t\tthis.animating = false;\n\t\tthis.scrolling = false;\n\t\t// bind portfolio events\n\t\tthis.bindEvents();\n\t}\n\n\tPortfolio3D.prototype.bindEvents = function() {\n\t\tvar self = this;\n\n\t\tthis.navigation.on('click', 'a:not(.selected)', function(event){\n\t\t\t//update visible projects when clicking on the filter\n\t\t\tevent.preventDefault();\n\t\t\tif( !self.animating ) {\n\t\t\t\tself.animating = true;\n\t\t\t\tvar index = $(this).parent('li').index();\n\t\t\t\t//update filter\n\t\t\t\t$(this).addClass('selected').parent('li').siblings('li').find('.selected').removeClass('selected');\n\t\t\t\t//show new projects\n\t\t\t\tself.showNewContent(index);\n\t\t\t}\n\t\t});\n\n\t\tthis.rows.on('click', 'li.selected', function(){\n\t\t\t//open a new project\n\t\t\tif( !self.animating && !$(this).hasClass('open')) {\n\t\t\t\tself.animating = true;\n\t\t\t\tself.rowsWrapper.addClass('project-is-open project-has-transition');\n\t\t\t\t\n\t\t\t\t$(this).addClass('open').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){\n\t\t\t\t\t//wait for the end of the transition and set the animating variable to tru\n\t\t\t\t\tself.animating = false;\n\t\t\t\t\t$(this).off('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend');\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(!isTransitionSupported) self.animating = false;\n\t\t\t}\n\t\t});\n\n\t\tthis.element.on('click', '.close-project', function(event){\n\t\t\tevent.preventDefault();\n\t\t\t//close a project\n\t\t\tif( !self.animating ) {\n\t\t\t\tself.animating = true;\n\t\t\t\tself.rowsWrapper.removeClass('project-is-open');\n\n\t\t\t\tself.rows.find('li.open').find('.project-title').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){\n\t\t\t\t\t//wait until the project is clodes and remove classes/set animating to false\n\t\t\t\t\t$(this).off('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend');\n\t\t\t\t\tself.resetProjects();\n\t\t\t\t});\n\n\t\t\t\tif(!isTransitionSupported) self.resetProjects();\n\t\t\t}\n\t\t});\n\n\t\tthis.rowsWrapper.find('.project-wrapper').on('scroll', function(){\n\t\t\t//detect scroll incide an open project - hide/show back to top\n\t\t\tvar scrollValue = $(this).scrollTop();\n\t\t\tif(!self.scrolling) {\n\t\t\t\tself.scrolling = true;\n\t\t\t\t(!window.requestAnimationFrame) ? setTimeout(function() {self.checkScroll(scrollValue);}, 250) : window.requestAnimationFrame(function() {self.checkScroll(scrollValue);});\n\t\t\t}\n\t\t});\n\t};\n\n\tPortfolio3D.prototype.resetProjects = function() {\n\t\tthis.rows.find('li.open').removeClass('open');\n\t\tthis.rowsWrapper.removeClass('project-has-transition');\n\t\tthis.animating = false;\n\t};\n\n\tPortfolio3D.prototype.checkScroll = function(scrollValue) {\n\t\t( scrollValue > 300 ) ? backToTopBtn.addClass('is-visible') : backToTopBtn.removeClass('is-visible cd-fade-out');\n\t\tthis.scrolling = false;\n\t}\n\n\tPortfolio3D.prototype.showNewContent = function(index) {\n\t\tvar self = this,\n\t\t\tdirection = ( index > self.visibleRowIndex ) ? 'rightToLeft' : 'leftToRight',\n\t\t\trotationParams = this.getRotationPrameters( direction ),\n\t\t\tnewVisibleFace = rotationParams[0],\n\t\t\trotationY = rotationParams[1],\n\t\t\ttranslateZ = $(window).width()/2;\n\n\t\t\n\t\tthis.rows.each(function() {\n\t\t\t$(this).children('li').addClass('hidden').removeClass('selected').eq(index).removeClass('hidden left-face right-face back-face front-face').addClass(newVisibleFace + '-face selected').end().eq(self.visibleRowIndex).removeClass('hidden selected');\n\t\t});\n\t\t\n\t\t//if preserve3D is supported -> rotate projects\n\t\tisPreserve3DSupported \n\t\t\t? this.setTransform(rotationY, translateZ)\n\t\t\t: self.animating = false;\n\t\tthis.visibleFace = newVisibleFace;\n\t\tthis.visibleRowIndex = index;\n\t\tthis.rotationValue = rotationY;\n\t};\n\n\tPortfolio3D.prototype.getRotationPrameters = function(direction) {\n\t\tvar newVisibleFace,\n\t\t\trotationY;\n\t\tif(  this.visibleFace == 'front' ) {\n\t\t\tnewVisibleFace = ( direction == 'rightToLeft' ) ? 'right' : 'left';\n\t\t} else if( this.visibleFace == 'right' ) {\n\t\t\tnewVisibleFace = ( direction =='rightToLeft' ) ? 'back' : 'front';\n\t\t} else if( this.visibleFace == 'left' ) {\n\t\t\tnewVisibleFace = ( direction =='rightToLeft' ) ? 'front' : 'back';\n\t\t} else {\n\t\t\tnewVisibleFace = ( direction =='rightToLeft' ) ? 'left' : 'right';\n\t\t}\n\n\t\tif( direction == 'rightToLeft' ) {\n\t\t\trotationY = this.rotationValue - 90;\n\t\t} else {\n\t\t\trotationY = this.rotationValue + 90;\n\t\t}\n\n\t\treturn [newVisibleFace, rotationY];\n\t};\n\n\tPortfolio3D.prototype.setTransform = function(rotationValue, translateValue) {\n\t\tvar self = this;\n\t\tthis.rows.each(function(index){\n\t\t\t$(this).css({\n\t\t\t    '-moz-transform': 'translateZ(-'+ translateValue +'px) rotateY(' + rotationValue + 'deg)',\n\t\t\t    '-webkit-transform': 'translateZ(-'+ translateValue +'px) rotateY(' + rotationValue + 'deg)',\n\t\t\t\t'-ms-transform': 'translateZ('-+ translateValue +'px) rotateY(' + rotationValue + 'deg)',\n\t\t\t\t'-o-transform': 'translateZ(-'+ translateValue +'px) rotateY(' + rotationValue + 'deg)',\n\t\t\t\t'transform': 'translateZ(-'+ translateValue +'px) rotateY(' + rotationValue + 'deg)'\n\t\t\t});\n\n\t\t\tif(index == 2)  \n\t\t\t\t$(this).one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){\n\t\t\t\t\t$(this).off('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend');\n\t\t\t\t\tself.animating = false;\n\t\t\t\t});\n\t\t});\n\t};\n\n\tPortfolio3D.prototype.scrollProjectTop = function() {\n\t\tthis.rows.children('li.selected.open').find('.project-wrapper').animate({scrollTop: 0 }, 300);\n\t}\n\n\tif( $('.cd-3d-portfolio').length > 0 ) {\n\t\tvar portfolios3D = [];\n\t\t$('.cd-3d-portfolio').each(function(){\n\t\t\t//create a Portfolio3D object for each .cd-3d-portfolio\n\t\t\tportfolios3D.push(new Portfolio3D($(this)));\n\t\t});\n\t}\n\n\tvar windowResize = false;\n\t//detect window resize - reset .cd-products-comparison-table properties\n\t$(window).on('resize', function(){\n\t\tif(!windowResize) {\n\t\t\twindowResize = true;\n\t\t\t(!window.requestAnimationFrame) ? setTimeout(checkResize, 250) : window.requestAnimationFrame(checkResize);\n\t\t}\n\t});\n\n\tfunction checkResize(){\n\t\tportfolios3D.forEach(function(element){\n\t\t\t//update transform values on resize\n\t\t\telement.setTransform(element.rotationValue, $(window).width()/2);\n\t\t});\n\n\t\twindowResize = false;\n\t}\n\n\tbackToTopBtn.on('click', function(event){\n\t\t//scroll to the top of a project when clicking the backToTop button\n\t\tevent.preventDefault();\n\t\tportfolios3D.forEach(function(element){\n\t\t\telement.scrollProjectTop();\n\t\t});\n\t});\n});"],"names":["jQuery","document","ready","$","isPreserve3DSupported","length","isTransitionSupported","backToTopBtn","Portfolio3D","element","this","navigation","children","rowsWrapper","rows","visibleFace","visibleRowIndex","rotationValue","animating","scrolling","bindEvents","prototype","self","on","event","preventDefault","index","parent","addClass","siblings","find","removeClass","showNewContent","hasClass","one","off","resetProjects","scrollValue","scrollTop","window","requestAnimationFrame","checkScroll","setTimeout","direction","rotationParams","getRotationPrameters","newVisibleFace","rotationY","translateZ","width","each","eq","end","setTransform","translateValue","css","transform","scrollProjectTop","animate","portfolios3D","push","windowResize","checkResize","forEach"],"version":3,"file":"index.ca5f89af.js.map"}