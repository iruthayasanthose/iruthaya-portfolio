{const e=document.body,t={lerp:(e,t,s)=>(1-s)*e+s*t,distance:(e,t,s,i)=>Math.hypot(s-e,i-t)},s=t=>{let s=0,i=0;return t||(t=window.event),t.pageX||t.pageY?(s=t.pageX,i=t.pageY):(t.clientX||t.clientY)&&(s=t.clientX+e.scrollLeft+docEl.scrollLeft,i=t.clientY+e.scrollTop+docEl.scrollTop),{x:s,y:i}};let i=lastMousePos=cacheMousePos={x:0,y:0};window.addEventListener("mousemove",(e=>i=s(e)));const o=()=>t.distance(i.x,i.y,lastMousePos.x,lastMousePos.y);class n{constructor(e){this.DOM={el:e},this.defaultStyle={scale:1,x:0,y:0,opacity:0},this.getRect(),this.initEvents()}initEvents(){window.addEventListener("resize",(()=>this.resize()))}resize(){TweenMax.set(this.DOM.el,this.defaultStyle),this.getRect()}getRect(){this.rect=this.DOM.el.getBoundingClientRect()}isActive(){return TweenMax.isTweening(this.DOM.el)||0!=this.DOM.el.style.opacity}}class a{constructor(){this.DOM={content:document.querySelector(".content")},this.images=[],[...this.DOM.content.querySelectorAll("img")].forEach((e=>this.images.push(new n(e)))),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.threshold=100,requestAnimationFrame((()=>this.render()))}render(){let e=o();cacheMousePos.x=t.lerp(cacheMousePos.x||i.x,i.x,.1),cacheMousePos.y=t.lerp(cacheMousePos.y||i.y,i.y,.1),e>this.threshold&&(this.showNextImage(),++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0,lastMousePos=i);let s=!0;for(let e of this.images)if(e.isActive()){s=!1;break}s&&1!==this.zIndexVal&&(this.zIndexVal=1),requestAnimationFrame((()=>this.render()))}showNextImage(){const e=this.images[this.imgPosition];TweenMax.killTweensOf(e.DOM.el),(new TimelineMax).set(e.DOM.el,{startAt:{opacity:0,scale:1},opacity:1,scale:1,zIndex:this.zIndexVal,x:cacheMousePos.x-e.rect.width/2,y:cacheMousePos.y-e.rect.height/2},0).to(e.DOM.el,.9,{ease:Expo.easeOut,x:i.x-e.rect.width/2,y:i.y-e.rect.height/2},0).to(e.DOM.el,1,{ease:Power1.easeOut,opacity:0},.4).to(e.DOM.el,1,{ease:Quint.easeOut,scale:.2},.4)}}(()=>new Promise(((e,t)=>{imagesLoaded(document.querySelectorAll(".content__img"),e)})))().then((()=>{document.body.classList.remove("loading"),new a}))}
//# sourceMappingURL=index.8a8dabed.js.map
